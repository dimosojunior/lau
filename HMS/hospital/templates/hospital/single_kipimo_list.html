
{% extends 'hospital/base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block title %}Patient Detail {% endblock %}


{% block content %}



<!DOCTYPE html>
<html>
<head>
  <title></title>
  <style>
    .input{
      padding: 15px;
      border-radius: 15px;
      border: 3px solid blue;
      margin: 10px;
      font-size: 20px;
      color: red;
      font-weight: bold;
      font-family: bold;
    }
    #tag{
      width: 10cm;
      font-size: 25px;
      color: blue;
      margin-bottom: 1cm;
      font-weight: bold;
      font-family: bold;

    }
  </style>
</head>
<body>

<div class="container" style="margin-top: 8cm;">
    {% if messages %}
      {% for message in messages %}
      

        <div class="alert alert-warning alert-dismissible fade show" role="alert">
  <strong>{{message}}</strong>
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
      {% endfor %}
    {% endif %}









    







<!---HIZI CODEKWA AJLIYA KUDISPLAY VIPIMO AMBAZOVIEW YKENI ACCEPT VIPIMO--->
{% load crispy_forms_tags %}



{% if querySet.paid == False %}



 
<center><h1>VIPIMO</h1></center>



   <form action="{% url 'accept_vipimo' querySet.id %}" method="post">
      {% csrf_token %}

      <center>
        <h1>{{form.name|as_crispy_field}}</h1>
      </center>

      

<table class="table">
        <thead class="thead-light">
          <tr>
           
            <th scope="col">Medicine Name</th>
            
            
            <th scope="col"> Total Price</th>
            

           
           
            
          </tr>
        </thead>



        <tbody>


    
      <!---mwanzo wa row --->
      
          
 <div class="row">
  {% if querySet.line_one != None %}
  

<tr>
  <td>{{form.line_one|as_crispy_field}}</td>
  
  <td>{{form.line_one_total_price|as_crispy_field}}</td>
  
</tr>


{% endif %}

</div><!--mwisho wa row--->

     <!---mwanzo wa row --->
          
 <div class="row">
{% if querySet.line_two != None %}

<tr>
  <td>{{form.line_two|as_crispy_field}}</td>
  
  <td>{{form.line_two_total_price|as_crispy_field}}</td>
  
</tr>

{% endif %}

</div><!--mwisho wa row--->


     <!---mwanzo wa row --->
          
 <div class="row">
  {% if querySet.line_three != None %}

<tr>
  <td>{{form.line_three|as_crispy_field}}</td>
  
  <td>{{form.line_three_total_price|as_crispy_field}}</td>
</tr>
{% endif %}


</div><!--mwisho wa row--->

     <!---mwanzo wa row --->
          
 <div class="row">
  {% if querySet.line_four != None %}

<tr>

  <td>{{form.line_four|as_crispy_field}}</td>
  
  <td>{{form.line_four_total_price|as_crispy_field}}</td>
</tr>
{% endif %}


</div><!--mwisho wa row--->



     <!---mwanzo wa row --->
          
 <div class="row">
{% if querySet.line_five != None %}
<tr>
  <td>{{form.line_five|as_crispy_field}}</td>
  
  <td>{{form.line_five_total_price|as_crispy_field}}</td>
</tr>

{% endif %}

</div><!--mwisho wa row--->


     <!---mwanzo wa row --->
          
 <div class="row">
  {% if querySet.line_six != None %}

<tr>
  <td>{{form.line_six|as_crispy_field}}</td>
  
  <td>{{form.line_six_total_price|as_crispy_field}}</td>
</tr>

{% endif %}

</div><!--mwisho wa row--->


    <!---mwanzo wa row --->
          
 <div class="row">
  {% if querySet.line_seven != None %}

<tr>
  <td>{{form.line_seven|as_crispy_field}}</td>

  <td>{{form.line_seven_total_price|as_crispy_field}}</td>
</tr>

{% endif %}

</div><!--mwisho wa row--->



    <!---mwanzo wa row --->
          
 <div class="row">
  {% if querySet.line_eight != None %}

<tr>
  <td>{{form.line_eight|as_crispy_field}}</td>
  
  <td>{{form.line_eight_total_price|as_crispy_field}}</td>
</tr>

{% endif %}

</div><!--mwisho wa row--->


    <!---mwanzo wa row --->
          
 <div class="row">
  {% if querySet.line_nine != None %}

<tr>
  <td>{{form.line_nine|as_crispy_field}}</td>
  
  <td>{{form.line_nine_total_price|as_crispy_field}}</td>
</tr>

{% endif %}

</div><!--mwisho wa row--->



    <!---mwanzo wa row --->
          
 <div class="row">
  {% if querySet.line_ten != None %}

<tr>
  <td>{{form.line_ten|as_crispy_field}}</td>
  
  <td>{{form.line_ten_total_price|as_crispy_field}}</td>
</tr>

{% endif %}

</div><!--mwisho wa row--->



</tbody>






        </table>

        <div class="row">

      <div class="col-md-3">
            {{form.total|as_crispy_field}}

          </div>

        
  

</div>


        <div class="row">

     

           
<button type="button" class="btn btn-danger"  data-bs-toggle="modal" data-bs-target="#accept">
  Accept Medicine
</button>





<!-- Modal -->
<div class="modal fade" id="accept" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel"> {{object.line_one}} </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
    <h3>put a tick to accept this payment!!</h3><br>


     <div class="col-md-3">
            {{form.total|as_crispy_field}}

          </div>

          <div class="col-md-3">
            {{form.paid|as_crispy_field}}

          </div>


      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>


          <div class="form-group">
                 
                    
           <!--      <input type="date" name="date" class="form-control" >--->
                 
                </div>
                <input hidden=true name="line2-id" value="{{object.id}}">

                    
           <button type="submit" class="btn btn-primary btn-md my-0 p" name="line2" >
              Accept


               </button>


      </div>
    </div>
  </div>
</div><!---mwisho wa modal---->









</div><!--mwisho wa row ya kudisplay total and paid--->



</form>

{% endif %}










{% if querySet.paid == True %}
<div style="margin-top: 2cm;">
<center>
<a href="{% url 'print_detail_watoto_vipimo' querySet.id %}" class="btn btn-primary btn-md my-0 p">Print Vipimo</a>
</center>
</div>
{% endif %}

</div>
<!--NA HZO CODES ZA KUPRINT RECEIPT ZINAISHIA HAPA--->




</div>

</body>
</html>
{% endblock %}